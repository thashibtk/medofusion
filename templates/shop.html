{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    {% include 'components/header.html' %}
    <title>Shop - Medofusion Surgical Supplies</title>
</head>

<body>

    {% include 'components/navbar.html' %}

    <!-- Start Breadcrumb -->
    <!-- Start Breadcrumb -->
    <div class="breadcrumb-area text-center shadow dark text-light bg-fixed">
        <div class="banner-background" style="background-image: url('{% static 'assets/images/banner/shop.png' %}'); background-size: cover; background-position: center;">
            <div class="blue-overlay"></div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <h1>Our Products</h1>
                    <ul class="breadcrumb">
                        <li><a href="{% url 'home' %}">Home</a></li>
                        <li class="active">Products</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Start Shop Area -->
    <div class="shop-area default-padding">
        <div class="container">
            <div class="row">
                <!-- Sidebar -->
                <div class="col-lg-3">
                    <aside class="sidebar">
                        <!-- Categories Widget -->
                        <div class="sidebar-item category">
                            <div class="title">
                                <h4>Categories</h4>
                            </div>
                            <div class="sidebar-info">
                                <ul>
                                    <li><a href="{% url 'products' %}">All Products</a></li>
                                    {% for cat in categories %}
                                    <li><a href="{% url 'products' %}?category={{ cat.slug }}">{{ cat.name }} <span>({{ cat.product_count }})</span></a></li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                    </aside>
                </div>

                <!-- Products Grid -->
                <div class="col-lg-9">

                    <!-- Products -->
                    <div class="row">
                        {% if products %}
                            {% for product in products %}
                            <div class="col-lg-4 col-md-6 mb-4">
                                <div class="product-item">
                                    <div class="thumb">
                                        {% if product.image %}
                                        <img src="{{ product.image.url }}" alt="{{ product.name }}">
                                        {% else %}
                                        <img src="https://placehold.co/350x350/0cb8b6/ffffff?text=No+Image" alt="{{ product.name }}">
                                        {% endif %}
                                        <div class="overlay">
                                            <a href="{% url 'product-details' product.slug %}"><i class="fas fa-eye"></i></a>
                                        </div>
                                    </div>
                                    <div class="info">
                                        <h4><a href="{% url 'product-details' product.slug %}">{{ product.name }}</a></h4>
                                        <div class="d-flex justify-content-between">
                                            <a href="{% url 'product-details' product.slug %}" class="shop-btn btn-theme mr-2">View Details</a>
                                            <a href="https://wa.me/1234567890?text=I'm interested in {{ product.name }}" class="shop-btn btn-theme"><i class="fab fa-whatsapp mr-2"></i> Enquiry</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        {% else %}
                            <div class="col-12">
                                <div class="alert alert-info">No products found.</div>
                            </div>
                        {% endif %}
                    </div>

                    <!-- Pagination (Commented out until backend implementation)
                    {% if is_paginated %}
                    <div class="row">
                        <div class="col-lg-12">
                            <nav class="pagination-area">
                                <ul class="pagination">
                                    <li class="page-item"><a class="page-link" href="#"><i class="fas fa-angle-left"></i></a></li>
                                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                                    <li class="page-item"><a class="page-link" href="#"><i class="fas fa-angle-right"></i></a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                    {% endif %}
                    -->
                </div>
            </div>
        </div>
    </div>

    <!-- Start Featured Categories -->
    <div class="services-area default-padding bg-gray">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <div class="site-heading text-center">
                        <h2>Product <span>Categories</span></h2>
                        <p>
                            Browse our comprehensive range of medical equipment and surgical supplies
                        </p>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="text-center" style="background: white; padding: 30px; border-radius: 10px;">
                        <i class="flaticon-department" style="font-size: 48px; color: #0cb8b6; margin-bottom: 15px;"></i>
                        <h4>Modular OT Systems</h4>
                        <p>Complete operation theater solutions</p>
                        <a href="#" class="btn btn-theme btn-sm">View Products</a>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="text-center" style="background: white; padding: 30px; border-radius: 10px;">
                        <i class="flaticon-medical" style="font-size: 48px; color: #0cb8b6; margin-bottom: 15px;"></i>
                        <h4>Hospital Furniture</h4>
                        <p>Beds, tables & medical furniture</p>
                        <a href="#" class="btn btn-theme btn-sm">View Products</a>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="text-center" style="background: white; padding: 30px; border-radius: 10px;">
                        <i class="flaticon-anesthesia" style="font-size: 48px; color: #0cb8b6; margin-bottom: 15px;"></i>
                        <h4>Surgical Equipment</h4>
                        <p>Instruments & surgical supplies</p>
                        <a href="#" class="btn btn-theme btn-sm">View Products</a>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="text-center" style="background: white; padding: 30px; border-radius: 10px;">
                        <i class="flaticon-lung-cancer" style="font-size: 48px; color: #0cb8b6; margin-bottom: 15px;"></i>
                        <h4>Medical Gas Systems</h4>
                        <p>Pipeline & distribution systems</p>
                        <a href="#" class="btn btn-theme btn-sm">View Products</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% include 'components/footer.html' %}

</body>
</html>

<style>
.product-item {
    background: #fff;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
}
.product-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 20px rgba(0,0,0,0.15);
}
.product-item .thumb {
    position: relative;
    overflow: hidden;
}
.product-item .thumb img {
    width: 100%;
    transition: all 0.3s ease;
}
.product-item:hover .thumb img {
    transform: scale(1.1);
}
.product-item .overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
    transition: all 0.3s ease;
}
.product-item:hover .overlay {
    opacity: 1;
}
.product-item .overlay a {
    display: inline-block;
    width: 50px;
    height: 50px;
    line-height: 50px;
    background: #0cb8b6;
    color: #fff;
    border-radius: 50%;
    text-align: center;
}
.product-item .info {
    padding: 15px;
}
.product-item .info h4 {
    margin-bottom: 10px;
}
.product-item .info h4 a {
    color: #333;
    font-size: 16px;
}
.product-item .info .price {
    margin: 11px 0;
}
.product-item .info .price .amount {
    color: #108785;
    font-size: 20px;
    font-weight: bold;
}
.shop-top-bar {
    background: #f8f9fa;
    padding: 15px 20px;
    border-radius: 5px;
    margin-bottom: 30px;
}
.sidebar {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 10px;
}
.sidebar-item {
    margin-bottom: 30px;
}
.sidebar-item .title h4 {
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid #108785;
}
.sidebar-item.category ul {
    list-style: none;
    padding: 0;
}
.sidebar-item.category ul li {
    padding: 8px 0;
    border-bottom: 1px solid #ddd;
}
.sidebar-item.category ul li a {
    color: #333;
    display: flex;
    justify-content: space-between;
}
.sidebar-item.category ul li a span {
    color: #999;
}
</style>