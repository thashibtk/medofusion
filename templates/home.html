{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    {% include 'components/header.html' %}
    <title>Medofusion - Medical Equipment & Hospital Solutions</title>
    <style>
        /* Hero Section */
        .hero-section {
            position: relative;
            height: 70vh;
            min-height: 500px;
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, #0cb8b6 0%, #0e6967 100%);
            overflow: hidden;
        }

        .hero-content {
            position: relative;
            z-index: 2;
            color: white;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('{% static "assets/images/banner/hero.jpg" %}') center/cover;
            opacity: 0.15;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            opacity: 0.95;
        }

        .hero-cta {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .btn-hero-primary {
            background: white;
            color: #0cb8b6;
            padding: 15px 40px;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
        }

        .btn-hero-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            color: #0cb8b6;
        }

        .btn-hero-secondary {
            background: transparent;
            color: white;
            padding: 15px 40px;
            border-radius: 50px;
            font-weight: 600;
            border: 2px solid white;
            transition: all 0.3s;
        }

        .btn-hero-secondary:hover {
            background: white;
            color: #0cb8b6;
        }

        /* Category Showcase */
        .category-showcase {
            padding: 80px 0;
            background: #f8f9fa;
        }

        .section-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 15px;
        }

        /* Swiper Custom Styles */
        .swiper-section-wrapper {
            position: relative;
            padding: 0 0.5rem;
        }
        
        .swiper {
            padding-bottom: 50px !important;
        }

        .swiper-button-next, .swiper-button-prev {
            color: #0cb8b6;
            width: 40px;
            height: 40px;
            background: #fff;
            border-radius: 50%;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .swiper-button-next::after, .swiper-button-prev::after {
            font-size: 20px;
            font-weight: bold;
        }

        .swiper-pagination-bullet-active {
            background-color: #0cb8b6;
        }

        .section-subtitle {
            font-size: 1.1rem;
            color: #666;
            max-width: 600px;
            margin: 0 auto;
        }

        .category-card {
            margin-bottom: 30px;
            cursor: pointer;
        }

        .category-image-wrapper {
            position: relative;
            height: 250px;
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }

        .category-image-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .category-hover-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 5;
        }

        .hover-btn {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            width: 50px;
            height: 50px;
            background: #0cb8b6;
            color: #fff;
            border-radius: 50%;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .category-card:hover .category-hover-overlay {
            opacity: 1;
        }

        .category-card:hover .category-image-wrapper {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(14, 105, 103, 0.15);
        }

        .category-card:hover .category-image-wrapper img {
            transform: scale(1.05);
        }

        .category-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 10px;
        }

        .category-name {
            font-size: 1.1rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 0;
            transition: color 0.3s ease;
        }

        .category-card:hover .category-name {
            color: #0cb8b6;
        }

        .category-link {
            color: #0cb8b6;
            font-weight: 600;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            padding: 5px 15px;
            border-radius: 50px;
            background: rgba(12, 184, 182, 0.1);
            transition: all 0.3s ease;
        }

        .category-card:hover .category-link {
            background: #0cb8b6;
            color: white;
            padding-right: 20px;
        }

        /* Featured Products */
        .featured-products {
            padding: 80px 0;
            background: white;
        }

        /* Styles moved to style.css */
    </style>
</head>

<body>

    {% include 'components/navbar.html' %}

    <!-- Start Banner Area -->
    <div class="banner-slider-area">
        <div class="swiper bannerSwiper">
            <div class="swiper-wrapper">
                <div class="swiper-slide">
                    <img src="{% static 'assets/images/home/slide/1.jpg' %}" alt="Medical Equipment">
                </div>
                <div class="swiper-slide">
                    <img src="{% static 'assets/images/home/slide/2.jpg' %}" alt="Surgical Supplies">
                </div>
                <div class="swiper-slide">
                    <img src="{% static 'assets/images/home/slide/3.jpg' %}" alt="Healthcare Solutions">
                </div>
            </div>
            <div class="swiper-pagination"></div>
        </div>
    </div>

    <style>
        .banner-slider-area {
            width: 100%;
            overflow: hidden;
            border-bottom: 2px solid #f0f0f0; /* Optional separator */
        }
        .banner-slider-area .swiper-slide img {
            width: 100%;
            height: auto;
            display: block;
            object-fit: cover;
            /* Optional: limit max height on very large screens if needed, e.g., max-height: 600px; */
        }
        /* Mobile optimization if needed */
        @media (max-width: 768px) {
            .banner-slider-area .swiper-slide img {
                min-height: 200px; /* Ensure visibility on small screens */
                object-fit: cover;
            }
        }
    </style>

    <!-- Initialize Banner Swiper -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var bannerSwiper = new Swiper(".bannerSwiper", {
                slidesPerView: 1,
                loop: true,
                autoplay: {
                    delay: 4000,
                    disableOnInteraction: false,
                },
                pagination: {
                    el: ".bannerSwiper .swiper-pagination",
                    clickable: true,
                },
            });
        });
    </script>

    <!-- Featured Products -->
    <section class="featured-products">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Featured <span style="color: #0cb8b6;">Products</span></h2>
                <p class="section-subtitle">Handpicked selection of our most popular medical equipment</p>
            </div>
            
            <!-- Swiper Container -->
            <div class="swiper-section-wrapper">
                <div class="swiper featuredSwiper">
                    <div class="swiper-wrapper">
                        {% for product in featured_products %}
                        <div class="swiper-slide">
                            <div class="product-card">
                                <div class="product-image">
                                    {% if product.image %}
                                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                                    {% else %}
                                    <img src="https://placehold.co/600x600/f8f9fa/0cb8b6?text={{ product.name|truncatewords:2 }}" alt="{{ product.name }}">
                                    {% endif %}
                                    
                                    {% with second_image=product.images.first %}
                                        {% if second_image %}
                                            <img src="{{ second_image.image.url }}" class="img-hover" alt="{{ product.name }}">
                                        {% else %}
                                            <img src="{% static 'assets/images/product/prod1.jpg' %}" class="img-hover" alt="{{ product.name }}">
                                        {% endif %}
                                    {% endwith %}
                                    
                                    <span class="product-badge">Featured</span>
                                </div>
                                <div class="product-info">
                                    <div class="product-category">{{ product.category.name }}</div>
                                    <h3 class="product-name">{{ product.name }}</h3>
                                    <div class="d-flex justify-content-between">
                                        <a href="{% url 'product-details' product.slug %}" class="btn-shop-action p-1"><i class="fas fa-eye me-1"></i> View</a>
                                        <a href="https://wa.me/1234567890?text=I'm interested in {{ product.name }}" class="btn-shop-action p-1"><i class="fab fa-whatsapp me-2"></i> Enquiry</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        {% endfor %}
                    </div>
                    <div class="swiper-pagination featured-pagination"></div>
                </div>
                <div class="swiper-button-next featured-next"></div>
                <div class="swiper-button-prev featured-prev"></div>
            </div>

            <div class="text-center mt-3">
                <a href="{% url 'products' %}" class="btn btn-lg circle btn-theme effect">View All Products</a>
            </div>
        </div>
    </section>

    <!-- Category Showcase -->
    <section class="category-showcase">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Shop by <span style="color: #0cb8b6;">Category</span></h2>
                <p class="section-subtitle">Explore our comprehensive range of medical equipment and solutions</p>
            </div>
            <div class="row">
                {% for category in categories %}
                <div class="col-lg-4 col-md-6">
                    <a href="{% url 'products' %}?category={{ category.slug }}">
                        <div class="category-card">
                            <div class="category-image-wrapper">
                                {% if category.products.first.image %}
                                <img src="{{ category.products.first.image.url }}" alt="{{ category.name }}">
                                {% else %}
                                <img src="https://placehold.co/600x700/0cb8b6/ffffff?text={{ category.name }}" alt="{{ category.name }}">
                                {% endif %}
                                <div class="category-hover-overlay">
                                    <span class="hover-btn"><i class="fas fa-arrow-right"></i></span>
                                </div>
                            </div>
                            <div class="category-content">
                                <h3 class="category-name">{{ category.name }}</h3>
                                <span class="category-link">Explore <i class="fas fa-arrow-right ml-1"></i></span>
                            </div>
                        </div>
                    </a>
                </div>
                {% empty %}
                <!-- Fallback categories if none exist -->
                <div class="col-lg-4 col-md-6">
                    <a href="{% url 'products' %}">
                        <div class="category-card">
                            <div class="category-image-wrapper">
                                <img src="{% static 'assets/images/home/modular.jpg' %}" alt="Modular OT">
                                <div class="category-hover-overlay">
                                    <span class="hover-btn"><i class="fas fa-arrow-right"></i></span>
                                </div>
                            </div>
                            <div class="category-content">
                                <h3 class="category-name">Modular Operation Theaters</h3>
                                <span class="category-link">Explore <i class="fas fa-arrow-right ml-1"></i></span>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-lg-4 col-md-6">
                    <a href="{% url 'products' %}">
                        <div class="category-card">
                            <div class="category-image-wrapper">
                                <img src="{% static 'assets/images/home/furniture.jpg' %}" alt="Hospital Furniture">
                                <div class="category-hover-overlay">
                                    <span class="hover-btn"><i class="fas fa-arrow-right"></i></span>
                                </div>
                            </div>
                            <div class="category-content">
                                <h3 class="category-name">Hospital Furniture</h3>
                                <span class="category-link">Explore <i class="fas fa-arrow-right ml-1"></i></span>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-lg-4 col-md-6">
                    <a href="{% url 'products' %}">
                        <div class="category-card">
                            <div class="category-image-wrapper">
                                <img src="{% static 'assets/images/home/equip.jpg' %}" alt="Surgical Equipment">
                                <div class="category-hover-overlay">
                                    <span class="hover-btn"><i class="fas fa-arrow-right"></i></span>
                                </div>
                            </div>
                            <div class="category-content">
                                <h3 class="category-name">Surgical Equipment</h3>
                                <span class="category-link">Explore <i class="fas fa-arrow-right ml-1"></i></span>
                            </div>
                        </div>
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- All Section -->
    <section class="features-section">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Why Choose <span style="color: #0cb8b6;">Medofusion</span></h2>
                <p class="section-subtitle">Your trusted partner for medical equipment and solutions</p>
            </div>
            
            <div class="feature-grid">
                <div class="feature-item wow fadeInUp">
                    <div class="feature-icon">
                        <i class="flaticon-department"></i>
                    </div>
                    <h3 class="feature-title">Quality Assurance</h3>
                    <p class="feature-description">All products meet international standards with rigorous quality control at every stage</p>
                </div>
                <div class="feature-item wow fadeInUp" data-wow-delay="100ms">
                    <div class="feature-icon">
                        <i class="flaticon-24-hours"></i>
                    </div>
                    <h3 class="feature-title">Expert Support</h3>
                    <p class="feature-description">Comprehensive support from consultation to installation and maintenance</p>
                </div>
                <div class="feature-item wow fadeInUp" data-wow-delay="200ms">
                    <div class="feature-icon">
                        <i class="flaticon-medical"></i>
                    </div>
                    <h3 class="feature-title">Wide Selection</h3>
                    <p class="feature-description">Extensive catalog of medical equipment from leading manufacturers worldwide</p>
                </div>
                <div class="feature-item wow fadeInUp" data-wow-delay="300ms">
                    <div class="feature-icon">
                        <i class="flaticon-thinking"></i>
                    </div>
                    <h3 class="feature-title">Custom Solutions</h3>
                    <p class="feature-description">Tailored solutions to meet your specific healthcare facility requirements</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Products -->
    <section class="featured-products">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Latest <span style="color: #0cb8b6;">Arrivals</span></h2>
                <p class="section-subtitle">Discover our newest additions to medical equipment</p>
            </div>
            

            <!-- Swiper Container -->
            <div class="swiper-section-wrapper">
                <div class="swiper latestSwiper">
                    <div class="swiper-wrapper">
                        {% for product in latest_products %}
                        <div class="swiper-slide">
                            <div class="product-card">
                                <div class="product-image">
                                    {% if product.image %}
                                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                                    {% else %}
                                    <img src="https://placehold.co/600x600/f8f9fa/0cb8b6?text={{ product.name|truncatewords:2 }}" alt="{{ product.name }}">
                                    {% endif %}
                                    
                                    {% with second_image=product.images.first %}
                                        {% if second_image %}
                                            <img src="{{ second_image.image.url }}" class="img-hover" alt="{{ product.name }}">
                                        {% else %}
                                            <img src="{% static 'assets/images/product/prod1.jpg' %}" class="img-hover" alt="{{ product.name }}">
                                        {% endif %}
                                    {% endwith %}
                                    
                                    <span class="product-badge">New</span>
                                </div>
                                <div class="product-info">
                                    <div class="product-category">{{ product.category.name }}</div>
                                    <h3 class="product-name">{{ product.name }}</h3>
                                    <div class="d-flex justify-content-between">
                                        <a href="{% url 'product-details' product.slug %}" class="btn-shop-action p-1"><i class="fas fa-eye me-1"></i> View</a>
                                        <a href="https://wa.me/1234567890?text=I'm interested in {{ product.name }}" class="btn-shop-action p-1"><i class="fab fa-whatsapp me-2"></i> Enquiry</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                    <div class="swiper-pagination latest-pagination"></div>
                </div>
                <div class="swiper-button-next latest-next"></div>
                <div class="swiper-button-prev latest-prev"></div>
            </div>

            <div class="text-center mt-3">
                <a href="{% url 'products' %}" class="btn btn-lg circle btn-theme effect">View All Products</a>
            </div>
        </div>
    </section>

    <!-- Start Newsletter -->
    <div class="newsletter-area default-padding shadow theme bg-fixed text-center text-light" style="background-image: url('{% static 'assets/images/banner/subscribe.jpg' %}');">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <h3>Ready to Upgrade Your Healthcare Facility?</h3>
                    <p class="cta-description wow fadeInUp" data-wow-delay="100ms">
                        Get in touch with our team to discuss your requirements and receive a customized quote
                    </p>
                    <div class="wow fadeInUp" data-wow-delay="200ms">
                        <a href="{% url 'contact' %}" class="btn btn-lg circle btn-theme effect">Request a Quote</a>
                    </div>
                </div>
            </div>
        </div>
    </div>


    {% include 'components/footer.html' %}


    <!-- Swiper Initialization -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var baseSwiperOptions = {
                slidesPerView: 2,
                spaceBetween: 10,
                loop: true,
                autoplay: {
                    delay: 3000,
                    disableOnInteraction: false,
                },
                breakpoints: {
                    640: {
                        slidesPerView: 2,
                        spaceBetween: 30,
                    },
                    768: {
                        slidesPerView: 3,
                    },
                    1024: {
                        slidesPerView: 4,
                    },
                },
            };

            var featuredSwiper = new Swiper(".featuredSwiper", {
                ...baseSwiperOptions,
                pagination: {
                    el: ".featured-pagination",
                    clickable: true,
                },
                navigation: {
                    nextEl: ".featured-next",
                    prevEl: ".featured-prev",
                },
            });

            var latestSwiper = new Swiper(".latestSwiper", {
                ...baseSwiperOptions,
                pagination: {
                    el: ".latest-pagination",
                    clickable: true,
                },
                navigation: {
                    nextEl: ".latest-next",
                    prevEl: ".latest-prev",
                },
            });
        });
    </script>
</body>
</html>