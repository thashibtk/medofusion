{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    {% include 'components/header.html' %}
    <title>{{ product.name }} - Medofusion</title>
</head>

<body>

    {% include 'components/navbar.html' %}


    <!-- Start Product Details -->
    <div class="product-details-area p-6">
        <div class="container">
            <div class="row">
                <!-- Product Images -->
                <div class="col-lg-6">
                    <div class="product-gallery">
                        <div class="main-image mb-3">
                            {% if product.image %}
                            <img id="mainImage" src="{{ product.image.url }}" alt="{{ product.name }}" style="width: 100%; border-radius: 10px;">
                            {% else %}
                            <img id="mainImage" src="https://placehold.co/600x500/0cb8b6/ffffff?text=No+Image" alt="{{ product.name }}" style="width: 100%; border-radius: 10px;">
                            {% endif %}
                        </div>
                        <div class="thumbnail-images">
                            <div class="row">
                                {% if product.image %}
                                <div class="col-3">
                                    <img src="{{ product.image.url }}" alt="Main View" class="img-thumbnail" onclick="changeImage(this.src)" style="cursor: pointer;">
                                </div>
                                {% endif %}
                                {% for img in product.images.all %}
                                <div class="col-3">
                                    <img src="{{ img.image.url }}" alt="View {{ forloop.counter }}" class="img-thumbnail" onclick="changeImage(this.src)" style="cursor: pointer;">
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Product Info -->
                <div class="col-lg-6">
                    <div class="product-info">
                        <h2>{{ product.name }}</h2>
                        <div class="description mb-4">
                            {{ product.description|linebreaks }}
                        </div>


                        <div class="product-meta mb-4">
                            <p><strong>Category:</strong> {{ product.category.name }}</p>
                        </div>

                        <div class="action-buttons">
                            <a href="https://wa.me/1234567890?text=I'm interested in {{ product.name }}" class="btn btn-theme btn-lg circle mb-2" style="margin-right: 10px;">
                                <i class="fab fa-whatsapp"></i> Enquiry
                            </a>
                            <a href="tel:+911234567890" class="btn btn-outline-theme btn-lg circle mb-2">
                                <i class="fas fa-phone"></i> Call Now
                            </a>
                        </div>

                        <div class="share-product mt-4">
                            <p><strong>Share:</strong></p>
                            <a href="#" style="margin-right: 15px; color: #0cb8b6;"><i class="fab fa-facebook-f fa-lg"></i></a>
                            <a href="#" style="margin-right: 15px; color: #0cb8b6;"><i class="fab fa-twitter fa-lg"></i></a>
                            <a href="#" style="margin-right: 15px; color: #0cb8b6;"><i class="fab fa-linkedin-in fa-lg"></i></a>
                            <a href="#" style="margin-right: 15px; color: #0cb8b6;"><i class="fab fa-whatsapp fa-lg"></i></a>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Related Products -->
    {% if related_products %}
    <div class="services-area default-padding bg-gray">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <div class="site-heading text-center">
                        <h2>Related <span>Products</span></h2>
                        <p>You may also be interested in these products</p>
                    </div>
                </div>
            </div>
            <div class="row">
                {% for r_product in related_products %}
                <div class="col-lg-3 col-md-6 mb-4">
                    <div class="product-item">
                        <div class="thumb">
                            {% if r_product.image %}
                            <img src="{{ r_product.image.url }}" alt="{{ r_product.name }}">
                            {% else %}
                            <img src="https://placehold.co/300x300/0cb8b6/ffffff?text=No+Image" alt="{{ r_product.name }}">
                            {% endif %}
                        </div>
                        <div class="info">
                            <h4><a href="{% url 'product-details' r_product.slug %}">{{ r_product.name }}</a></h4>
                            <a href="{% url 'product-details' r_product.slug %}" class="shop-btn btn-theme">View Details</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Call to Action -->
    <div class="newsletter-area default-padding shadow theme bg-fixed text-center text-light" style="background-image: url({% static 'assets/images/hm-products.jpg' %});">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <h2>Interested in This Product?</h2>
                    <p>Contact us for detailed quotations and product information</p>
                    <a href="{% url 'contact' %}" class="btn btn-light btn-lg circle">Get a Quote</a>
                </div>
            </div>
        </div>
    </div>

    {% include 'components/footer.html' %}

    <script>
    function changeImage(src) {
        document.getElementById('mainImage').src = src;
    }
    </script>

</body>
</html>

<style>
.product-item {
    background: #fff;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
}
.product-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 20px rgba(0,0,0,0.15);
}
.product-item .thumb img {
    width: 100%;
}
.product-item .info {
    padding: 20px;
    text-align: center;
}
.product-item .info h4 a {
    color: #333;
    font-size: 16px;
}
.product-item .info .price {
    margin: 15px 0;
}
.product-item .info .price .amount {
    color: #0cb8b6;
    font-size: 20px;
    font-weight: bold;
}
.btn-outline-theme {
    border: 2px solid #0cb8b6;
    color: #0cb8b6;
    background: transparent;
}
.btn-outline-theme:hover {
    background: #0cb8b6;
    color: #fff;
}
</style>